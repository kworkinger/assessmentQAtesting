"use strict";(self.webpackChunktrello_client=self.webpackChunktrello_client||[]).push([[5771],{"./app/src/quickload/quick-queries.ts":(e,r,a)=>{a.d(r,{Z:()=>y});const i=["name","closed","dateLastActivity","dateLastView","datePluginDisable","enterpriseOwned","idOrganization","prefs","premiumFeatures","shortLink","shortUrl","url","creationMethod","idEnterprise"].join(","),t=["name","closed","dateLastActivity","datePluginDisable","enterpriseOwned","idOrganization","prefs","premiumFeatures","shortLink","shortUrl","url","creationMethod","idEnterprise"].join(","),s=[i,"desc","descData","idTags","invitations","invited","labelNames","limits","memberships","powerUps","subscribed","templateGallery"].join(","),o=[i,"subscribed"].join(","),n=["activityBlocked","avatarUrl","bio","bioData","confirmed","fullName","idEnterprise","idMemberReferrer","initials","memberType","nonPublic","products","url","username"].join(","),d=[n,"idPremOrgsAdmin"].join(","),l=["name","displayName","products","prefs","premiumFeatures","logoHash","idEnterprise","tags","limits","credits"].join(","),c=[l,"memberships"].join(","),u=["badges","cardRole","closed","dateLastActivity","desc","descData","due","dueComplete","dueReminder","idAttachmentCover","idList","idBoard","idMembers","idShort","idLabels","limits","name","pos","shortUrl","shortLink","subscribed","url","locationName","address","coordinates","cover","isTemplate","start"].join(","),m=[i,"idTags"].join(","),p=[t,"idTags"].join(","),b=[l,"desc","descData","website","limits","billableCollaboratorCount"].join(","),g=["products","standing","billingDates","expirationDates","needsCreditCardUpdate","dateFirstSubscription","scheduledChange","trialExpiration"].join(","),f=["products","invoiceDetails","canRenew","expirationDates","billingDates","dateFirstSubscription","contactLocale","contactEmail","contactFullName","cardLast4","cardType","standing","ixSubscriber","zip","country","taxId","stateTaxId","trialType","trialExpiration","previousSubscription","paidProduct","productOverride","scheduledChange"].join(","),_=["addAttachmentToCard","addChecklistToCard","addMemberToCard","commentCard","copyCommentCard","convertToCardFromCheckItem","createCard","copyCard","deleteAttachmentFromCard","emailCard","moveCardFromBoard","moveCardToBoard","removeChecklistFromCard","removeMemberFromCard","updateCard:idList","updateCard:closed","updateCard:due","updateCard:dueComplete","updateCheckItemStateOnCard","updateCustomFieldItem"].join(","),k=[_,"addMemberToBoard","addToOrganizationBoard","copyBoard","createBoard","createCustomField","createList","deleteCard","deleteCustomField","disablePlugin","disablePowerUp","enablePlugin","enablePowerUp","makeAdminOfBoard","makeNormalMemberOfBoard","makeObserverOfBoard","moveListFromBoard","moveListToBoard","removeFromOrganizationBoard","unconfirmedBoardInvitation","unconfirmedOrganizationInvitation","updateBoard","updateCustomField","updateList:closed"].join(","),h={lists:"open",list_fields:"name,closed,idBoard,pos,subscribed,limits,creationMethod,softLimit",cards:"visible",card_attachments:"cover",card_stickers:!0,card_fields:[u,"labels"].join(","),card_checklists:"none",enterprise:!0,enterprise_fields:"displayName",members:"all",member_fields:n,membersInvited:"all",membersInvited_fields:n,memberships_orgMemberType:!0,checklists:"none",organization:!0,organization_fields:"name,displayName,desc,descData,url,website,prefs,memberships,logoHash,products,limits,idEnterprise,premiumFeatures",organization_tags:!0,organization_enterprise:!0,organization_disable_mock:!0,myPrefs:!0,fields:s,pluginData:!0,organization_pluginData:!0,boardPlugins:!0},v={fields:"",actions:k,actions_display:!0,actions_limit:50,action_memberCreator_fields:d,action_reactions:!0,checklists:"none",cards:"visible",card_fields:"",card_checklists:"all",card_checklist_checkItems:"none",labels:"all",labels_limit:1e3},B={lists:"open",list_fields:"name,closed,idBoard,pos,subscribed,limits,creationMethod,softLimit",cards:"visible",card_stickers:!0,card_fields:[u,"labels"].join(","),enterprise:!0,enterprise_fields:"displayName",members:"all",member_fields:n,membersInvited:"all",membersInvited_fields:n,memberships_orgMemberType:!0,checklists:"none",organization:!0,organization_fields:"name,displayName,desc,descData,url,website,prefs,memberships,logoHash,products,limits,idEnterprise,premiumFeatures",organization_tags:!0,organization_enterprise:!0,organization_disable_mock:!0,myPrefs:!0,fields:s,pluginData:!0,organization_pluginData:!0,boardPlugins:!0,card_checklists:"all",card_checklist_checkItems:"none",labels:"all",labels_limit:1e3,card_attachments:!0,card_attachment_fields:"bytes,date,edgeColor,idMember,isUpload,mimeType,name,url",card_customFieldItems:!0,customFields:!0,card_pluginData:!0},y={boardFieldsInLargeOrganization:p,boardFieldsMinimal:i,boardFieldsFull:s,boardFieldsMinimalSubscribed:o,memberFields:n,memberFieldsAndPremOrgsAdmin:d,organizationFieldsMinimal:l,organizationFieldsMinimalMemberships:c,paidAccountFieldsMinimal:g,paidAccountFieldsAll:f,cardFieldsBulk:u,boardFieldsInOrganization:m,organizationBoardsFields:b,cardActions:_,boardActions:k,card:{fields:"all",stickers:!0,attachments:!0,customFieldItems:!0,pluginData:!0},currentBoardMinimal:h,currentBoardSecondary:v,currentBoardPluginData:{fields:"",boardPlugins:!0,cards:"visible",card_fields:"",card_attachments:!0,card_attachment_fields:"bytes,date,edgeColor,idMember,isUpload,mimeType,name,url",card_customFieldItems:!0,customFields:!0,card_pluginData:!0,organization:!0,organization_fields:""},currentBoardFull:B,memberBoards:{boards:"open,starred",board_fields:o,boardStars:!0,boardsInvited:"all",boardsInvited_fields:o,board_organization:!0,board_organization_fields:l,credits:"invitation,promoCode",organizations:"all",organization_fields:c,organizationsInvited:"all",organizationsInvited_fields:l,organization_paidAccount:!0,organization_paidAccount_fields:g,paidAccount:!0,paidAccount_fields:g},memberHeader:{campaigns:!0,channels:!0,logins:!0,organizations:"all",organization_paidAccount:!0,organization_paidAccount_fields:g,organization_fields:"name,displayName,idEnterprise,products",organization_enterprise:!0,paidAccount:!0,paidAccount_fields:g,pluginData:!0,savedSearches:!0,missedTransferDate:!0,enterpriseToExplicitlyOwnBoards:!0,enterpriseLicenses:!0,enterprises:!0,enterprise_filter:["saml","member","member-unconfirmed","owned"],enterprise_fields:"name,displayName,isRealEnterprise,idAdmins,organizationPrefs",enterpriseWithRequiredConversion:!0,ofEnterprise:!0,ofEnterprise_fields:"displayName"},organizationBoardsPage:{boards:"open",board_fields:m,board_starCounts:"organization",board_membershipCounts:"active",fields:b,paidAccount:!0,paidAccount_fields:g,enterprise:!0,memberships:"active",members:"all",tags:!0,billableCollaboratorCount:!0},memberQuickBoards:{fields:"idOrganizations",boards:"open,starred",board_fields:i,boardStars:!0,organizations:"all",organization_fields:"idBoards"},quickBoardsSearch:e=>({query:e,modelTypes:"boards",board_fields:i,partial:!0}),boardMinimalForDisplayCard:{lists:"open",list_fields:"name,closed,idBoard,pos,subscribed,limits,creationMethod,softLimit",enterprise:!0,enterprise_fields:"displayName",members:"all",member_fields:n,membersInvited:"all",membersInvited_fields:n,memberships_orgMemberType:!0,organization:!0,organization_fields:"name,displayName,desc,descData,url,website,prefs,memberships,logoHash,products,limits,idEnterprise",organization_tags:!0,organization_enterprise:!0,organization_disable_mock:!0,myPrefs:!0,fields:s,labels:"all",labels_limit:1e3},workspaceBoardsPageMinimal:{boards:"open",boards_count:29,boards_sortBy:"dateLastActivity",boards_sortOrder:"desc",board_fields:p,fields:b,paidAccount:!0,paidAccount_fields:g,enterprise:!0,tags:!0,memberships:"active",billableCollaboratorCount:!0}}},"./app/src/quickload/quickload.ts":(e,r,a)=>{a.r(r),a.d(r,{QuickLoad:()=>h});var i=a("./app/src/quickload/quick-queries.ts");function t(e,r){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);r&&(i=i.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),a.push.apply(a,i)}return a}function s(e,r,a){return r in e?Object.defineProperty(e,r,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[r]=a,e}const o=function(e,r){let a,i;i=void 0===r?{}:function(e){for(var r=1;r<arguments.length;r++){var a=null!=arguments[r]?arguments[r]:{};r%2?t(Object(a),!0).forEach((function(r){s(e,r,a[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):t(Object(a)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(a,r))}))}return e}({},r);const o=[],n=/invite-token-[-a-f0-9]*=([^;]+)/g;for(;void 0!==(a=null===(d=n.exec(document.cookie))||void 0===d?void 0:d[1]);){var d;o.push(unescape(a))}if(o.length>0&&(i.invitationTokens=o.join(",")),new RegExp("^/1/search(/|$)").test(e)){var l;const e=null===(l=/dsc=([^;]+)/.exec(document.cookie))||void 0===l?void 0:l[1];i.dsc=null!=e?e:"undefined"}const c=[];for(const e in i){const r=i[e];c.push([e,encodeURIComponent(r)].join("="))}return[e,c.join("&")].join("?")},n=(e,r)=>{var a,i;const t=(e=>{let r=null;const a=window.localStorage,i=a?a.getItem(e):null;if(i)try{r=JSON.parse(i)}catch(e){console.warn(e)}return r})("featureFlagSnapshot"),{remote:s={},overrides:o={}}=null!=t?t:{};return null!==(a=null!==(i=o[e])&&void 0!==i?i:s[e])&&void 0!==a?a:r};var d=a("./packages/organizations/src/isPossiblyValidOrgName.ts");const l=()=>n("fep.merge-board-quickload-requests","false"),c=[{pattern:new RegExp("^/$"),urls:()=>[[o("/1/Members/me",i.Z.memberBoards),"quick-queries:memberBoards"]]},{pattern:new RegExp("^//$"),urls:()=>[[o("/1/Members/me",i.Z.memberQuickBoards),"quick-queries:memberQuickBoards"]]},{pattern:new RegExp("^//([^/]*)"),urls:e=>{const r=decodeURIComponent(e[1]).toLowerCase().replace(/[-_ ]+/g," ");return[[o("/1/Members/me",i.Z.memberQuickBoards),"quick-queries:memberQuickBoards"],[o("/1/search",i.Z.quickBoardsSearch(r)),"quick-queries:quickBoardsSearch"]]}},{pattern:new RegExp("^/b/([^/]+)"),urls:e=>{const r=e[1];return"true"===l()?[[o("/1/Boards/".concat(r),i.Z.currentBoardFull),"quick-queries:currentBoardFull"]]:[[o("/1/Boards/".concat(r),i.Z.currentBoardMinimal),"quick-queries:currentBoardMinimal"],[o("/1/Boards/".concat(r),i.Z.currentBoardSecondary),"quick-queries:currentBoardSecondary"],[o("/1/Boards/".concat(r),i.Z.currentBoardPluginData),"quick-queries:currentBoardPluginData"]]}},{pattern:new RegExp("^/board/[^/]+/([^/]+)"),urls:e=>{const r=e[1];return"true"===l()?[[o("/1/Boards/".concat(r),i.Z.currentBoardFull),"quick-queries:currentBoardFull"]]:[[o("/1/Boards/".concat(r),i.Z.currentBoardMinimal),"quick-queries:currentBoardMinimal"],[o("/1/Boards/".concat(r),i.Z.currentBoardSecondary),"quick-queries:currentBoardSecondary"],[o("/1/Boards/".concat(r),i.Z.currentBoardPluginData),"quick-queries:currentBoardPluginData"]]}},{pattern:new RegExp("^/c/([^/]+)"),urls:e=>{const r=e[1];return[[o("/1/Cards/".concat(r),i.Z.card),"quick-queries:card"]]}},{pattern:new RegExp("^/([^/]+)$"),urls:e=>{const r=e[1];return(0,d.f)(r)?[[o("/1/Organizations/".concat(r),i.Z.workspaceBoardsPageMinimal),"quick-queries:workspaceBoardsPageMinimal"]]:[]}}],u=function(e){try{return JSON.parse(e)}catch(e){return null}},m=function(e,r,a="unknown",i="model-loader"){const t=new XMLHttpRequest;t.open("GET",e,!0),t.setRequestHeader("Accept","application/json,text/plain"),t.setRequestHeader("X-Trello-Client-Version",window.trelloVersion||"dev-0"),t.setRequestHeader("X-Trello-Operation-Source",i),t.setRequestHeader("X-Trello-Operation-Name",a),t.onreadystatechange=function(){4===t.readyState&&(200!==t.status?r([t.status,t.responseText]):r(null,[u(t.responseText),t]))},t.send(null)},p={},b=function(e){e in p&&delete p[e]},g=function(e,r="preload"){if(!e)return;const a={isLoading:!0,callbacks:[],start:Date.now(),used:!1,url:e};p[e]=a,m(e,(function(r,i){let t;if(a.isLoading=!1,r)for(t of(a.error=r,Array.from(a.callbacks)))t(r);else{for(t of(a.data=i,Array.from(a.callbacks)))t(null,i);setTimeout((()=>b(e)),1e4)}}),r,"quickload")},f=function(e){return{isLoading:e.isLoading,start:e.start,used:e.used,url:e.url}};function _(){var e;if(!(/token=/.test(document.cookie)||/token3000=/.test(document.cookie)||/token2999=/.test(document.cookie)))return[];const r=[o("/1/Members/me",i.Z.memberHeader),"quick-queries:memberHeader"],a=window.location.pathname,t=c.find((e=>e.pattern.test(a))),s=null!==(e=null==t?void 0:t.urls(t.pattern.exec(a)))&&void 0!==e?e:[];return[r].concat(s)}const k={init(){const e=_();for(const[r,a]of e)g(r,a)},getQuickloadUrls:_,makeUrl:o,load(e,r=(()=>{}),a){const i=p[e];if(void 0!==i)return i.used=!0,i.isLoading?i.callbacks.push(r):(r(i.error,i.data),b(e)),f(i);m(e,r,a)},hook:e=>new Promise(((r,a)=>{const i=p[e];if(void 0!==i)return i.used=!0,i.isLoading?i.callbacks.push(((e,i)=>{e?a(e):r(i)})):i.error?a(i.error):r(i.data),f(i);a("Preload URL was never called")})),clear(){for(const e in p)b(e)}},h=window.QuickLoad=k},"./packages/organizations/src/isPossiblyValidOrgName.ts":(e,r,a)=>{a.d(r,{f:()=>t});const i=["blank","shortcuts","search","templates"],t=e=>/^[a-z0-9_]{3,}$/.test(e)&&-1===i.indexOf(e)}},e=>{var r;r="./app/src/quickload/quickload.ts",e(e.s=r)}]);
//# sourceMappingURL=quickload.bc0d8f3acb0d9c2a8e5b.js.map